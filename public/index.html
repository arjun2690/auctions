<!DOCTYPE html>
<html>
<head>
	<title>Auctions</title>
	<link rel="stylesheet" type="text/css" href="./css/app.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script type="text/javascript" src="./libs/angular.min.js"></script>
	<script type="text/javascript" src="./libs/jQuery.js"></script>
	<script type="text/javascript" src="./libs/socket.io.js"></script>
	<script type="text/javascript" src="./js/socketFactory.js"></script>
	<script type="text/javascript" src="./js/app.js"></script>
</head>
<body ng-app="app">
	<h2 id="brand" >Welcome to Auctions!!</h2>
	<div id="LeftZone" ng-show="registered">
		<div id="bid" ng-controller="BidController">
			<ul id="messages"></ul>
		    <div id="form" action="" ng-show="started">
		    	<input ng-model="chatText" required/>
		    	<button ng-click="chat()" ng-disabled="!chatText">Chat</button>
		    	<button ng-click="waitees()">Time Top-Up</button>
		    	<button ng-click="makeBid()" ng-disabled="!currentBid">Bid {{currentBid}}</button>
		    </div>
		    <button ng-click="startAuction()" ng-show="registered && !started">Join</button>
		</div>		
	</div>
	<div id="MiddleZone">
		<div id="list" ng-controller="ListController" ng-show="registered">
			<button ng-click="toggleFeeds()">{{toggleLabel}}</button>
			<div ng-if="!feedsEnabled">
				<div id="ListTitle">
					<span>Name</span>
					<span>Base Price</span>
					<span>Current Price</span>
					<span>Team</span>
					<span>Status</span>
				</div>
				<div ng-repeat="player in playerList | reverse">
					<span>{{player.name}}</span>
					<span>{{player.basePrice}}</span>
					<span>{{player.currentPrice}}</span>
					<span>{{player.team}}</span>
					<span>{{player.status}}</span>
				</div>
			</div>
			<div id="Feeds" ng-if="feedsEnabled">
				<div ng-repeat="player in playerList">
					<p ng-if="player.status=='sold'">
						{{player.name}} is {{player.status}} to {{player.team}} for {{player.currentPrice}}
					</p>
					<p ng-if="player.status=='unsold'">
						{{player.name}} remains {{player.status}}
					</p>
					<p ng-if="player.status=='bidding' && player.team">
						{{player.team}} is bidding {{player.name}} for {{player.currentPrice}}
					</p>
					<p ng-if="player.status=='bidding' && !player.team">
						{{player.name}} is available for {{player.basePrice}}
					</p>
				</div>
			</div>
		</div>
		<div id="main" ng-controller="MainController">
			<div  id="Registration" ng-show="!registered">
				<input ng-model="userName" placeholder="{{registrationRequest}}"/></br>
				<button ng-click="register()"> Register </button>
			</div>
			<div id="Display" ng-show="registered">
				<div ng-if="currentPlayer" id="clock">
					<h3>Time Left</h3>
					<h1 ng-model="clock">{{clock}}</h1>
					<h3>Purse Left</h3>
		    		<h3 id="Balance">{{purseBalance}}</h3>
				</div>			
				<div ng-if="currentPlayer" id="current">
					<h3>Player</h3>
					<img ng-src="./images/players/{{currentPlayer.id}}.jpg">
					<div>
						<p>Name : {{currentPlayer.name}}</p>
						<p>Base Price : {{currentPlayer.basePrice}}</p>
						<p>Age : {{currentPlayer.age}}</p>
						<p>Country : {{currentPlayer.country}}</p>
						<p>Catrgory : {{currentPlayer.category}}</p>
					</div>
				</div>			
			</div>
		</div>			
	</div>
	<div id="RightZone" ng-show="registered">
		<div ng-controller="StatsController">
			<h1>My Team Stats</h1>
			<div ng-repeat="(category, list) in myPlayers">
				<ul>{{category}}
					<li ng-repeat="player in list">{{player}}</li>
				</ul>
			</div>
		</div>
	</div>
</body>
</html>
